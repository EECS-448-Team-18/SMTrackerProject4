/*
    Filename: app.3a79643c.js
    Author: Abhigyan Saxena, Xiaoyi Lu, Evelyn Thomas, Achyut Paudel, Linh Nguyen
    Description: using Node.js for creating the backend 
    Date: 11-07-2020
*/

(function(t){function e(e){for(var s,i,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)i=o[d],a[i]&&f.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},a={app:0},r=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),a=n.n(s);a.a},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},4678:function(t,e,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=r(t);return n(e)}function r(t){var e=s[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id="4678"},"521b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAASCAYAAAC9+TVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADrSURBVHgB7VTtDYIwEG0bBmAFR3ACcQLdQOMELgBpYQAcASfQDWADRxA3IAxAfSVC8Ar4lfiLlxx9HNeXu8sdnPVAKZVyzj3izuGTvu8fabxDHWEYbnF4sERrfet8WsEOMEuE94hccLhBEMy6fimlJ4RIq6pagmdPIrik2Q9AtsoxD/CF6cGDv4M2HpbVHjRSfpIRjRc0APW6pv4xTmGJIM29aeAYfynyDSaRf4lgAhPsx3yMU1hbjIHKh3gcx8xYWZa2CAapDsY4m1Uv2ACay4jf4Lg2/vZXEEXRCSmv2TC6u1WgtB2yO5uXO0AZfNaDcPlcAAAAAElFTkSuQmCC"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav-bar"),n("router-view")],1)},r=[],i=(n("96cf"),n("1da1")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("span",{staticClass:"title"},[t._v("SMTRACKER")]),n("div",{staticClass:"menu"},[n("router-link",{staticClass:"icon",attrs:{to:"/home"}},[n("div",{staticClass:"menu-drop"},[t._v("\n        Home\n      ")])]),n("router-link",{staticClass:"icon",attrs:{to:"/app"}},[n("div",{staticClass:"menu-drop"},[t._v("\n        Apps\n      ")])]),n("router-link",{staticClass:"icon",attrs:{to:"/settings"}},[n("div",{staticClass:"menu-drop"},[t._v("\n        Settings\n      ")])])],1)])},c=[],u={name:"NavBar"},l=u,d=n("2877"),f=Object(d["a"])(l,o,c,!1,null,null,null),m=f.exports,p=(n("28a5"),n("a481"),n("7f7f"),n("6762"),n("2fdb"),n("ac6a"),n("8615"),n("ade3")),h={facebook:{control:!1,time:0,url:"*://*.facebook.com/"},twitter:{control:!1,time:0,url:"*://*.twitter.com/"},instagram:{control:!1,time:0,url:"*://*.instagram.com/"},youtube:{control:!1,time:0,url:"*://*.youtube.com/"}},v=(n("456d"),chrome.storage.local),b="timer",g={update:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=this.getCurrentDate(),t.next=3,this.getData(b);case 3:a=t.sent,a=a[s]||{},a[e]?a[e]+=n:a[e]=n,this.save(b,Object(p["a"])({},s,a));case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),getData:function(t){return new Promise((function(e){v.get(t,(function(n){return n[t]?e(n[t]):e({})}))}))},save:function(t,e){return new Promise((function(n){v.set(Object(p["a"])({},t,e),(function(){n()}))}))},initialize:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getData("sites");case 2:e=t.sent,Object.values(e).length||this.save("sites",h);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),getCurrentDate:function(){return(new Date).toISOString().substr(0,10)}};g.initialize();var j="timer",w="sites",y="settings",A="password",C=[{from:"#5CEAF3",to:"#ACABE0"},{from:"#F3AE5C",to:"#D123E0"},{from:"#D5F35C",to:"#ABE7FA"},{from:"#B9AC3C",to:"#5771F9"}],k=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function x(t){return t<10?"0".concat(t):t}Date.prototype.toISOString=function(){return"".concat(this.getFullYear(),"-").concat(x(this.getMonth()+1),"-").concat(x(this.getDate()),"T").concat(x(this.getHours()),":").concat(x(this.getMinutes()),":").concat(x(this.getSeconds()),".").concat((this.getMilliseconds()/1e3).toFixed(3).slice(2,5))};var _={getData:function(t){return g.getData(t)},isTabAMatch:function(t,e){var n=Object.values(e).map((function(t){return t.url}));return n.some((function(e){return e.includes(t)}))},getActiveTab:function(){return new Promise((function(t){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){t(e[0])}))}))},getCurrentDate:function(){return(new Date).toISOString().substr(0,10)},end:function(t){var e=Date.now(),n=t.active;if(n.name){var s=parseInt((e-n.timeStamp)/1e3,10),a=this.getCurrentDate();t.data[a]||(t.data={},t.data[a]={}),t.data[a][n.name]=t.data[a][n.name]?t.data[a][n.name]+s:s,t.active={},g.update(n.name,s)}},getName:function(t){try{var e=new URL(t).hostname;return e.replace("www.","").replace(".com","")}catch(n){return""}},notify:function(t,e){var n={type:"basic",iconUrl:"images/icon_128.png",title:"SMTRACKER",message:t};e&&(n.buttons=[{title:"Close Site"}],n.requireInteraction=!0),chrome.notifications.create(n,(function(){}))},saveConfiguration:function(t,e){return g.save(t,e)},isTimeExceeded:function(t,e){var n=t.configuration,s=t.data,a=s[this.getCurrentDate()];return!!(n[e]&&n[e].control&&a&&a[e]>=60*n[e].time)&&(this.notify("Time limit exceeded for ".concat(e)),!0)},isTimeframeBlocked:function(t,e){var n=t.configuration,s=new Date,a=k[s.getDay()];if(!n[e]||!n[e].control||!n[e].days||!n[e].days[a])return!1;for(var r=this.getCurrentTime(s),i=0;i<n[e].days[a].length;i+=1){var o=n[e].days[a][i],c=o.from,u=o.to;if(c<=r&&u>=r)return this.notify("You can't use ".concat(e," between ").concat(c," and ").concat(u," on ").concat(a)),!0}return!1},getSecondsToNextBlock:function(t){var e=new Date,n=k[e.getDay()];if(!t||!t.days||!t.days[n])return null;var s=t.days[n],a=this.getCurrentTime(e),r=null;if(s.forEach((function(t){a<t.from&&(r?t.from<r&&(r=t.from):r=t.from)})),r){var i=new Date,o=r.split(":");return i.setHours(o[0],o[1]),(i-e)/1e3}return null},getCurrentTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=new Date);var e=t.getHours(),n=t.getMinutes();return e<10&&(e="0".concat(e)),n<10&&(n="0".concat(n)),"".concat(e,":").concat(n)},getBarGradients:function(t,e){for(var n=[],s=0;s<e;s+=1){var a=t.createLinearGradient(0,0,600,0);a.addColorStop(0,C[s%C.length].from),a.addColorStop(1,C[s%C.length].to),n.push(a)}return n}},P={name:"App",components:{NavBar:m},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.getData(y);case 2:e=t.sent,"batman"===e.theme&&document.querySelector("body").classList.add("dark-mode"),"/"===this.$route.path&&this.$router.push("home");case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},S=P,O=(n("034f"),Object(d["a"])(S,a,r,!1,null,null,null)),D=O.exports,E=n("8c4f"),R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("BackButton",{attrs:{route:"/app"}}),n("h3",[t._v("Add Website")]),n("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.add(e)}}},[n("div",{staticClass:"input-field"},[n("label",[t._v("Site url (e.g http://google.com)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.siteurl,expression:"siteurl"}],attrs:{type:"url"},domProps:{value:t.siteurl},on:{input:function(e){e.target.composing||(t.siteurl=e.target.value)}}})]),n("button",{staticClass:"btn save",attrs:{type:"submit"}},[t._v("Add")])])],1)},B=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"breadcrumb",attrs:{to:t.route}},[n("span",[t._v("« Back")])])},M=[],I={props:{route:{type:String,required:!0}}},N=I,z=Object(d["a"])(N,T,M,!1,null,null,null),U=z.exports,L={components:{BackButton:U},name:"Add",data:function(){return{siteurl:""}},methods:{add:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.siteurl){t.next=10;break}return t.next=3,_.getData(w);case 3:return e=t.sent,n=_.getName(this.siteurl),e[n.toLowerCase()]={control:!1,time:0,url:this.siteurl},t.next=8,_.saveConfiguration(w,e);case 8:this.siteurl="",this.$router.push("app");case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}},V=L,F=Object(d["a"])(V,R,B,!1,null,null,null),Q=F.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"apps-header"},[s("stats",{attrs:{active:t.active,idle:t.idle}}),s("div",{staticClass:"action"},[s("button",{staticClass:"btn",on:{click:t.disableAll}},[t._v("DISABLE ALL")]),s("router-link",{staticClass:"add",attrs:{to:"/add"}})],1)],1),s("div",{staticClass:"app-list"},t._l(t.sites,(function(e,a){return s("div",{key:a,staticClass:"row"},[s("div",[t._v(t._s(a))]),s("div",[s("img",{attrs:{src:n("7d74")}}),t._v("    "+t._s(t.formatTime(a)))]),s("div",{staticClass:"site-actions"},[s("switch-button",{on:{toggle:t.update},model:{value:e.control,callback:function(n){t.$set(e,"control",n)},expression:"each.control"}}),s("router-link",{staticClass:"edit",attrs:{to:{name:"Advanced",params:{name:a}}}}),s("img",{attrs:{src:n("521b")},on:{click:function(e){t.remove(a)}}})],1)])})))])},Y=[],q=(n("f5766"),n("6b54"),n("5df3"),n("3835")),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stats"},[n("div",[t._v("\n    ACTIVE   \n    "),n("span",[t._v(t._s(t.active))])]),n("div",[t._v("\n    IDLE   \n    "),n("span",[t._v(t._s(t.idle))])])])},H=[],J={name:"Statistics",props:["active","idle"]},K=J,W=(n("adcc"),Object(d["a"])(K,G,H,!1,null,"72314f52",null)),Z=W.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"switch-button-control"},[n("div",{staticClass:"switch-button",class:{enabled:t.isEnabled},on:{click:t.toggle}},[n("div",{staticClass:"button"})]),n("div",{staticClass:"switch-button-label"},[t._t("default")],2)])},tt=[],et={model:{prop:"isEnabled",event:"toggle"},props:{isEnabled:Boolean},methods:{toggle:function(){this.$emit("toggle",!this.isEnabled)}}},nt=et,st=(n("c147"),Object(d["a"])(nt,X,tt,!1,null,null,null)),at=st.exports,rt={name:"Settings",components:{Stats:Z,"switch-button":at},data:function(){return{sites:{},time:{},saveStatus:0}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([_.getData(w),_.getData(j)]);case 2:e=t.sent,n=Object(q["a"])(e,2),this.sites=n[0],this.time=n[1],s=_.getCurrentDate(),this.time=this.time[s]||{};case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),methods:{update:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.saveConfiguration(w,this.sites);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),formatTime:function(t){if(!this.time[t])return"00:00:00";var e=Math.floor(this.time[t]/3600).toString(),n=Math.floor(this.time[t]%3600/60).toString(),s=(this.time[t]%60).toString();return"".concat(e.padStart(2,"0"),":").concat(n.padStart(2,"0"),":").concat(s.padStart(2,"0"))},disableAll:function(){var t=this;Object.keys(this.sites).forEach((function(e){t.sites[e].control=!1})),this.update()},remove:function(t){this.$delete(this.sites,t),this.update()}},computed:{active:function(){var t=this,e=Object.keys(this.sites);return e.filter((function(e){return t.sites[e].control})).length},idle:function(){var t=this,e=Object.keys(this.sites);return e.filter((function(e){return!t.sites[e].control})).length}}},it=rt,ot=Object(d["a"])(it,$,Y,!1,null,null,null),ct=ot.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("chart")],1)},lt=[],dt=n("1fca"),ft={extends:dt["a"],mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=_.getCurrentDate(),t.next=3,_.getData(j);case 3:n=t.sent,n=n[e]||{},s=Object.values(n).map((function(t){return(t/60).toFixed(2)})),a=_.getBarGradients(this.$refs.canvas.getContext("2d"),s.length),this.renderChart({labels:Object.keys(n),datasets:[{label:"",hoverBackgroundColor:a,backgroundColor:a,data:s}]},{scales:{xAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"MINUTES"}}],yAxes:[{barThickness:"flex",scaleLabel:{display:!0,labelString:"SITES"}}]}});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},mt={name:"Index",components:{Chart:ft}},pt=mt,ht=Object(d["a"])(pt,ut,lt,!1,null,null,null),vt=ht.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"settings"},[n("div",{staticClass:"box"},[t._v("\n        Theme settings\n        "),n("div",{staticClass:"theme-buttons"},[n("button",{staticClass:"btn",attrs:{disabled:"flash"==t.theme},on:{click:function(e){t.setTheme("flash")}}},[t._v("\n              Flash\n          ")]),n("button",{staticClass:"btn",attrs:{disabled:"batman"==t.theme},on:{click:function(e){t.setTheme("batman")}}},[t._v("\n              Batman\n          ")])])]),n("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.savePassword(e)}}},[t.isCurrentPassword?n("div",{staticClass:"box"},[t._v("\n          Current Password\n          "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],attrs:{type:"password"},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})])]):t._e(),n("div",{staticClass:"box"},[t._v("\n          New Password\n          "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],attrs:{type:"password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})])]),t.errorMessage?n("div",{staticClass:"text-center text-error"},[t._v(t._s(t.errorMessage))]):t._e(),n("div",[n("button",{staticClass:"btn save",attrs:{type:"submit"}},[t._v(t._s(t.buttonCaption))])])])])])},gt=[],jt=n("279c"),wt=n.n(jt),yt={name:"Settings",data:function(){return{theme:"",newPassword:"",oldPassword:"",isCurrentPassword:"",errorMessage:"",buttonCaption:"Save Password"}},methods:{setTheme:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=document.querySelector("body"),"batman"===e?n.classList.add("dark-mode"):n.classList.remove("dark-mode"),_.saveConfiguration(y,{theme:e}),this.theme=e;case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),getTheme:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.getData(y);case 2:e=t.sent,this.theme=e.theme||"flash";case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),getPassword:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.getData(A);case 2:e=t.sent,this.isCurrentPassword=e.password;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),savePassword:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.newPassword){t.next=11;break}if(!this.isCurrentPassword||wt.a.compareSync(this.oldPassword,this.isCurrentPassword)){t.next=5;break}this.errorMessage="Invalid old password",t.next=11;break;case 5:return e=wt.a.hashSync(this.newPassword,10),t.next=8,_.saveConfiguration(A,Object(p["a"])({},A,e));case 8:this.buttonCaption="Saving...",this.errorMessage="",setTimeout((function(){n.resetFields(e)}),1500);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),resetFields:function(t){this.newPassword="",this.oldPassword="",this.errorMessage="",this.isCurrentPassword=t,this.buttonCaption="Save Password"}},mounted:function(){this.getTheme(),this.getPassword()}},At=yt,Ct=Object(d["a"])(At,bt,gt,!1,null,null,null),kt=Ct.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("BackButton",{attrs:{route:"/app"}}),n("h3",[t._v("App Details "+t._s(t.name))]),n("form",{staticClass:"form"},[n("div",{staticClass:"input-field"},[n("label",[t._v("Title (Add an app title)")]),n("input",{attrs:{type:"text",disabled:""},domProps:{value:t.name}})]),n("div",{staticClass:"box minute"},[n("label",[t._v("Daily Limit (minutes)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.time,expression:"config.time"}],attrs:{type:"number",min:"0",max:"1440"},domProps:{value:t.config.time},on:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.update(e)},change:t.update,input:function(e){e.target.composing||t.$set(t.config,"time",e.target.value)}}})]),n("h3",[t._v("Blocked Timeframes")]),n("div",t._l(t.daysChoosen,(function(e,s){return n("div",{key:s,staticClass:"box middle day"},[n("label",{staticClass:"checkbox"},[t._v(t._s(e.name)+"\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.daysChoosen[s].active,expression:"daysChoosen[key].active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.daysChoosen[s].active)?t._i(t.daysChoosen[s].active,null)>-1:t.daysChoosen[s].active},on:{change:function(e){var n=t.daysChoosen[s].active,a=e.target,r=!!a.checked;if(Array.isArray(n)){var i=null,o=t._i(n,i);a.checked?o<0&&t.$set(t.daysChoosen[s],"active",n.concat([i])):o>-1&&t.$set(t.daysChoosen[s],"active",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.daysChoosen[s],"active",r)}}}),n("span",{staticClass:"checkmark"})]),n("div",[t._v("From  \n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.daysChoosen[s].from,expression:"daysChoosen[key].from"}],attrs:{type:"time"},domProps:{value:t.daysChoosen[s].from},on:{keyup:function(e){t.keypressed(s)},input:function(e){e.target.composing||t.$set(t.daysChoosen[s],"from",e.target.value)}}})]),n("div",[t._v("To  \n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.daysChoosen[s].to,expression:"daysChoosen[key].to"}],attrs:{type:"time",min:t.daysChoosen[s].from},domProps:{value:t.daysChoosen[s].to},on:{keyup:function(e){t.keypressed(s)},input:function(e){e.target.composing||t.$set(t.daysChoosen[s],"to",e.target.value)}}})])])}))),n("button",{staticClass:"btn save",attrs:{disabled:t.isTimeframeInvalid,type:"submit"},on:{click:function(e){return e.preventDefault(),t.addTimeFrame(e)}}},[t._v("\n        SAVE\n    ")])])],1)},_t=[],Pt={components:{BackButton:U},name:"Settings",data:function(){return{sites:{},name:"",config:{},daysChoosen:[]}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.name=this.$route.params.name,t.next=3,_.getData(w);case 3:e=t.sent,this.sites=e,this.config=this.sites[this.name],k.forEach((function(t){n.config.days&&t in n.config.days?n.config.days[t].forEach((function(e){n.daysChoosen.push({name:t,from:e.from,to:e.to,active:!0})})):n.daysChoosen.push({name:t,active:!1})}));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),methods:{update:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.config.control=!0,this.sites[this.name]=this.config,_.saveConfiguration(w,this.sites);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),addTimeFrame:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.config.days={},this.daysChoosen.forEach((function(t){var n=t.active,s=t.name,a=t.from,r=t.to;n&&(e.config.days[s]||(e.config.days[s]=[]),e.config.days[s].push({from:a,to:r}))})),t.next=4,this.update();case 4:this.$router.push("/app");case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),keypressed:function(t){this.daysChoosen[t].to>this.daysChoosen[t].from&&(this.daysChoosen[t].active=!0)}},computed:{isTimeframeInvalid:function(){return this.daysChoosen.some((function(t){var e=t.from,n=t.to;return n<e}))}}},St=Pt,Ot=Object(d["a"])(St,xt,_t,!1,null,null,null),Dt=Ot.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isPageUnlocked?n("router-view"):n("div",{staticClass:"content"},[n("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.unlockPage(e)}}},[n("div",{staticClass:"input-field"},[n("label",[t._v("Enter password to edit configuration")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.errorMessage?n("p",{staticClass:"text-center text-error"},[t._v(t._s(t.errorMessage))]):t._e(),n("button",{staticClass:"btn save",attrs:{type:"submit"}},[t._v("Continue")])])])],1)},Rt=[],Bt={name:"AppsConfiguration",data:function(){return{password:"",currentPassword:"",pageUnlocked:!1,errorMessage:""}},computed:{isPageUnlocked:function(){return!this.currentPassword||this.pageUnlocked}},methods:{getPassword:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.getData(A);case 2:e=t.sent,this.currentPassword=e.password;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),unlockPage:function(){wt.a.compareSync(this.password,this.currentPassword)?(this.pageUnlocked=!0,this.errorMessage=""):this.errorMessage="Please enter a valid password"}},mounted:function(){this.getPassword()}},Tt=Bt,Mt=Object(d["a"])(Tt,Et,Rt,!1,null,null,null),It=Mt.exports;s["a"].use(E["a"]);var Nt=new E["a"]({routes:[{path:"/home",name:"Index",component:vt},{path:"/add",name:"Add",component:Q},{path:"/settings",component:kt},{path:"/app",component:It,children:[{path:"/",name:"apps",component:ct},{path:"/:name",name:"Advanced",component:Dt}]}]});s["a"].config.productionTip=!1,new s["a"]({router:Nt,render:function(t){return t(D)}}).$mount("#app")},"64a9":function(t,e,n){},"7d74":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHzSURBVHgBnVPdcdNAEN5dObbFz2A6kDugA5wKgAqwJDsTnkJowIIGYp7IYDmSO0gFxEMDmAoiKrCGEBRjS8veyRaJrIGQfdDdnna/+273W4QKc0+ScwSwbhymq12//3Bajq1VASDjTD7RzbNGXBVbCfCAGvb37PL5xifiaLRnziovu+70gosOcG0g2045kAEiA8D76JiTXnB1hEuajPbqswKgH1wdMPNw7U4Z8RTS9FtOAYQNPVV1UUC6Poynvtt8oQH64x9dRiPQP1Ow/b45LTPoBvOWwQ0PAQ9U3Ngx2/oJ+0FiLRnOlJMuYDd8ZUZ5QmLVGM6RIRy5pr0Bck9+DhUIMB/67r0hpVnayVtmeJvkv1mKC08qEgPSQL9OqL8UIvHYqU/gFhbaj2N5gsRyqze66BDoivMM/sOYMx2PhBbBHYzIiIp90ZYtqmZUW0B7Sc3DLYSMn2gmuDMnJVsBsfY/JFsgx1LU0MYtCaNoQq2rRfaVBO29cpZ1GMAtTNreZmQl8zPVNVqLZooI3V6QDP6RrDTzKb8dnJwN5KIxRExaqiKcnV/w9viaJl4H3LqU4cqQjkREj4Czd7573ysANiCivACKQZKRVoIBbDFkFuqV5yKcN6LM8E89SuaMky4BPmPMOuukWNYvMo6fV9Qclov6G6SX1+9nfbWvAAAAAElFTkSuQmCC"},ab54:function(t,e,n){},adcc:function(t,e,n){"use strict";var s=n("f600"),a=n.n(s);a.a},c147:function(t,e,n){"use strict";var s=n("ab54"),a=n.n(s);a.a},f600:function(t,e,n){}});
//# sourceMappingURL=app.3a79643c.js.map